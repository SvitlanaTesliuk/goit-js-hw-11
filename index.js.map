{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["const API_KEY = '46065548-5ae4334dfe4b7f7d37f4bc842';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${perPage}&page=${page}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch images');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryElement = document.querySelector('.gallery');\n\nexport function renderImages(images) {\n  const markup = images.map(image => createImageCard(image)).join('');\n  galleryElement.insertAdjacentHTML('beforeend', markup);\n  refreshGallery();\n}\n\nfunction createImageCard({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n  return `\n    <a href=\"${largeImageURL}\" class=\"gallery__item\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"gallery__image\" />\n      <div class=\"info\">\n        <p><b>Likes:</b> ${likes}</p>\n        <p><b>Views:</b> ${views}</p>\n        <p><b>Comments:</b> ${comments}</p>\n        <p><b>Downloads:</b> ${downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\nexport function clearGallery() {\n  galleryElement.innerHTML = '';\n}\n\nexport function showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\nlet lightbox;\n\nfunction refreshGallery() {\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n  } else {\n    lightbox.refresh();\n  }\n}","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery, showErrorMessage } from './js/render-function.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('input[name=\"searchQuery\"]');\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nform.addEventListener('submit', onSearch);\n\n\nfunction onSearch(event) {\n  event.preventDefault();\n  currentQuery = input.value.trim();\n\n  if (!currentQuery) {\n    showErrorMessage('Please enter a search query.');\n    return;\n  }\n\n  clearGallery();\n  currentPage = 1;\n\n  fetchImages(currentQuery, currentPage)\n    .then(data => {\n      if (data.hits.length === 0) {\n        showErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n        loadMoreBtn.style.display = 'none';\n        return;\n      }\n      renderImages(data.hits);\n      loadMoreBtn.style.display = data.hits.length < 12 ? 'none' : 'block';\n    })\n    .catch(error => {\n      showErrorMessage('Failed to fetch images. Please try again later.');\n    });\n}\n\nfunction onLoadMore() {\n  currentPage += 1;\n\n  fetchImages(currentQuery, currentPage)\n    .then(data => {\n      renderImages(data.hits);\n      if (data.hits.length < 12) {\n        loadMoreBtn.style.display = 'none';\n      }\n    })\n    .catch(error => {\n      showErrorMessage('Failed to fetch more images.');\n    });\n}"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","error","galleryElement","renderImages","images","markup","image","createImageCard","refreshGallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showErrorMessage","message","lightbox","SimpleLightbox","form","input","currentPage","currentQuery","onSearch","event","data"],"mappings":"svBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CACzD,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,qEAAqEE,CAAO,SAASD,CAAI,GAE9J,OAAO,MAAME,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCdA,MAAMC,EAAiB,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EAClEJ,EAAe,mBAAmB,YAAaG,CAAM,EACrDG,GACF,CAEA,SAASD,EAAgB,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACjG,MAAO;AAAA,eACML,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,2BAEjBC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA;AAAA,GAIxC,CAEO,SAASC,GAAe,CAC7Bd,EAAe,UAAY,EAC7B,CAEO,SAASe,EAAiBC,EAAS,CACxC,SAAS,MAAM,CACb,MAAO,QACP,QAASA,CACb,CAAG,CACH,CAEA,IAAIC,EAEJ,SAASX,GAAiB,CACnBW,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIC,EAAe,YAAY,CAI9C,CCvCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,2BAA2B,EAEhE,IAAIC,EAAc,EACdC,EAAe,GAEnBH,EAAK,iBAAiB,SAAUI,CAAQ,EAGxC,SAASA,EAASC,EAAO,CAIvB,GAHAA,EAAM,eAAc,EACpBF,EAAeF,EAAM,MAAM,OAEvB,CAACE,EAAc,CACjBP,EAAiB,8BAA8B,EAC/C,MACD,CAEDD,IACAO,EAAc,EAEd5B,EAAY6B,EAAcD,CAAW,EAClC,KAAKI,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BV,EAAiB,0EAA0E,EAC3F,YAAY,MAAM,QAAU,OAC5B,MACD,CACDd,EAAawB,EAAK,IAAI,EACtB,YAAY,MAAM,QAAUA,EAAK,KAAK,OAAS,GAAK,OAAS,OACnE,CAAK,EACA,MAAM1B,GAAS,CACdgB,EAAiB,iDAAiD,CACxE,CAAK,CACL"}