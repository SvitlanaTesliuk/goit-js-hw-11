{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["const API_KEY = '46065548-5ae4334dfe4b7f7d37f4bc842';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${perPage}&page=${page}`;\n  \n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryElement = document.querySelector('.gallery');\n\nexport function renderImages(images) {\n  const markup = images.map(image => createImageCard(image)).join('');\n  galleryElement.insertAdjacentHTML('beforeend', markup);\n  refreshGallery();\n}\n\nfunction createImageCard({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n  return `\n    <a href=\"${largeImageURL}\" class=\"gallery__item\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"gallery__image\" />\n      <div class=\"info\">\n        <p><b>Likes:</b> ${likes}</p>\n        <p><b>Views:</b> ${views}</p>\n        <p><b>Comments:</b> ${comments}</p>\n        <p><b>Downloads:</b> ${downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\nexport function clearGallery() {\n  galleryElement.innerHTML = '';\n}\n\nexport function showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\nlet lightbox;\n\nfunction refreshGallery() {\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n  } else {\n    lightbox.refresh();\n  }\n}","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery, showErrorMessage } from './js/render-function.js';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\n\nconst form = document.querySelector('#search-form');\nconst input = document.querySelector('input[name=\"searchQuery\"]');\nconst loadMoreBtn = document.querySelector('.load-more');\nlet currentPage = 1;\nlet currentQuery = '';\n\nform.addEventListener('submit', onSearch);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nasync function onSearch(event) {\n  event.preventDefault();\n  currentQuery = input.value.trim();\n\n  if (!currentQuery) {\n    showErrorMessage('Please enter a search query.');\n    return;\n  }\n\n  clearGallery();\n  currentPage = 1;\n\n  try {\n    const data = await fetchImages(currentQuery, currentPage);\n    if (data.hits.length === 0) {\n      showErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n      return;\n    }\n    renderImages(data.hits);\n    loadMoreBtn.style.display = 'block';\n  } catch (error) {\n    showErrorMessage('Failed to fetch images. Please try again later.');\n  }\n}\n\nasync function onLoadMore() {\n  currentPage += 1;\n\n  try {\n    const data = await fetchImages(currentQuery, currentPage);\n    renderImages(data.hits);\n  } catch (error) {\n    showErrorMessage('Failed to fetch more images.');\n  }\n}"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","error","galleryElement","renderImages","images","markup","image","createImageCard","refreshGallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showErrorMessage","message","lightbox","SimpleLightbox","form","input","loadMoreBtn","currentPage","currentQuery","onSearch","onLoadMore","event","data"],"mappings":"svBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,qEAAqEE,CAAO,SAASD,CAAI,GAE9J,GAAI,CACF,MAAMG,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAO,MAAMA,EAAS,MACvB,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCbA,MAAMC,EAAiB,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EAClEJ,EAAe,mBAAmB,YAAaG,CAAM,EACrDG,GACF,CAEA,SAASD,EAAgB,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACjG,MAAO;AAAA,eACML,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,2BAEjBC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA;AAAA,GAIxC,CAEO,SAASC,GAAe,CAC7Bd,EAAe,UAAY,EAC7B,CAEO,SAASe,EAAiBC,EAAS,CACxC,SAAS,MAAM,CACb,MAAO,QACP,QAASA,CACb,CAAG,CACH,CAEA,IAAIC,EAEJ,SAASX,GAAiB,CACnBW,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIC,EAAe,YAAY,CAI9C,CCvCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,2BAA2B,EAC1DC,EAAc,SAAS,cAAc,YAAY,EACvD,IAAIC,EAAc,EACdC,EAAe,GAEnBJ,EAAK,iBAAiB,SAAUK,CAAQ,EACxCH,EAAY,iBAAiB,QAASI,CAAU,EAEhD,eAAeD,EAASE,EAAO,CAI7B,GAHAA,EAAM,eAAc,EACpBH,EAAeH,EAAM,MAAM,OAEvB,CAACG,EAAc,CACjBR,EAAiB,8BAA8B,EAC/C,MACD,CAEDD,IACAQ,EAAc,EAEd,GAAI,CACF,MAAMK,EAAO,MAAMlC,EAAY8B,EAAcD,CAAW,EACxD,GAAIK,EAAK,KAAK,SAAW,EAAG,CAC1BZ,EAAiB,0EAA0E,EAC3F,MACD,CACDd,EAAa0B,EAAK,IAAI,EACtBN,EAAY,MAAM,QAAU,OAC7B,MAAe,CACdN,EAAiB,iDAAiD,CACnE,CACH,CAEA,eAAeU,GAAa,CAC1BH,GAAe,EAEf,GAAI,CACF,MAAMK,EAAO,MAAMlC,EAAY8B,EAAcD,CAAW,EACxDrB,EAAa0B,EAAK,IAAI,CACvB,MAAe,CACdZ,EAAiB,8BAA8B,CAChD,CACH"}